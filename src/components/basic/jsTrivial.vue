<script setup>
  import CodeBlock from "@/common/components/codeBlock.vue";
  import AnchorComponents from "@/components/anchorComponents.jsx";
  import { JS_ANCHOR_POINT, OBJ_ANCHOR_POINT, ARR_ANCHOR_POINT, STRING_ANCHOR_POINT, ROUTE__ANCHOR_POINT } from './static.js'
</script>

<template>
  <div class="content-container">
    <h1 class="title">JSçç¢çŸ¥è¯†ğŸ§€</h1>
    <div data-custom="1ã€JSç›¸å…³">
      <h2 id="_1ã€JSç›¸å…³">1ã€JSç›¸å…³</h2>
      <AnchorComponents :data="JS_ANCHOR_POINT"/>
      <h3 id="js_1">å±•å¼€è¿ç®—ç¬¦</h3>
      <span class="content">
        JavaScriptå±•å¼€è¿ç®—ç¬¦ï¼ˆ...ï¼‰æ˜¯ES6å¼•å…¥çš„è¯­æ³•ç‰¹æ€§ï¼Œç”¨äºå°†å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚æ•°ç»„ã€å¯¹è±¡ã€Setã€Mapï¼‰çš„å…ƒç´ å±•å¼€ä¸ºç‹¬ç«‹é¡¹ã€‚
      </span>
      <h3 id="js_2">åŸå§‹ç±»å‹ VS åŒ…è£…å¯¹è±¡</h3>
      <span class="content">
        åŸå§‹ç±»å‹:å¦‚ number ã€ string ã€ boolean ,åœ¨ JavaScript ä¸­æ˜¯ç®€å•æ•°æ® ç±»å‹,å®ƒä»¬åœ¨å†…å­˜ä¸­å â½¤ç©ºé—´å°‘,å¤„ç†é€Ÿåº¦å¿«ã€‚ <br>
        åŒ…è£…å¯¹è±¡:å¦‚ Number å¯¹è±¡ã€ String å¯¹è±¡ã€ Boolean å¯¹è±¡,æ˜¯å¤æ‚ç±»å‹,åœ¨ å†…å­˜ä¸­å â½¤æ›´å¤šç©ºé—´,åœ¨â½‡å¸¸å¼€å‘æ—¶å¾ˆå°‘ç”±å¼€å‘â¼ˆå‘˜â¾ƒâ¼°åˆ›å»ºåŒ…è£…å¯¹è±¡ã€‚<br>
        â¾ƒåŠ¨è£…ç®±:JavaScript åœ¨å¿…è¦æ—¶ä¼šâ¾ƒåŠ¨å°†åŸå§‹ç±»å‹åŒ…è£…æˆå¯¹è±¡,ä»¥ä¾¿è°ƒâ½¤â½…æ³•æˆ–è®¿é—®å±æ€§ã€‚<br>
      </span>
      <CodeBlock>
        <pre>// åŸå§‹ç±»å‹å­—ç¬¦ä¸²
          let str = 'hello';
          // å½“è®¿é—®str.lengthæ—¶,JavaScriptå¼•æ“åšäº†ä»¥ä¸‹â¼¯ä½œ:
          // 1. â¾ƒåŠ¨è£…ç®±:åˆ›å»ºâ¼€ä¸ªä¸´æ—¶çš„Stringå¯¹è±¡åŒ…è£…åŸå§‹å­—ç¬¦ä¸²
          let size = (function(){
            let tempStringObject = new String(str);
            // 2. è®¿é—®Stringå¯¹è±¡çš„lengthå±æ€§
            let lengthValue = tempStringObject.length;
            // 3. é”€æ¯ä¸´æ—¶å¯¹è±¡,è¿”å›â»“åº¦å€¼
            // (JavaScriptå¼•æ“â¾ƒåŠ¨å¤„ç†å¯¹è±¡é”€æ¯,å¼€å‘è€…â½†æ„ŸçŸ¥)
            return lengthValue;
          })();

          console.log(size); // è¾“å‡º: 5</pre>
      </CodeBlock>
      <h3 id="js_3">å…³äºwindow.addEventListener</h3>
      <CodeBlock>
        <pre>// åŸºæœ¬è¯­æ³•
        window.addEventListener('äº‹ä»¶ç±»å‹', å›è°ƒå‡½æ•°, [ä½¿ç”¨æ•è·]);
        </pre>
      </CodeBlock>
      <span class="content">å¸¸è§äº‹ä»¶ç±»å‹ï¼š</span>
      <ul>
        <li><span class="bgc">load</span> - é¡µé¢å®Œå…¨åŠ è½½</li>
        <li><span class="bgc">DOMContentLoaded</span> - DOMåŠ è½½å®Œæˆï¼ˆæ¯”loadæ—©ï¼‰</li>
        <li><span class="bgc">resize</span> - çª—å£å¤§å°æ”¹å˜</li>
        <li><span class="bgc">scroll - é¡µé¢æ»šåŠ¨</span>x - é¡µé¢æ»šåŠ¨</li>
        <li><span class="bgc">click</span> - ç‚¹å‡»</li>
        <li><span class="bgc">keydown/keyup</span> - é”®ç›˜æŒ‰é”®</li>
      </ul>
      <span class="content">ç¬¬ä¸‰ä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰ï¼š</span>
      <ul>
        <li><span class="bgc">false</span>ï¼ˆé»˜è®¤ï¼‰ï¼šå†’æ³¡é˜¶æ®µå¤„ç†</li>
        <li><span class="bgc">true</span>ï¼šæ•è·é˜¶æ®µå¤„ç†</li>
        <li>æˆ–ä¸€ä¸ªå¯¹è±¡ï¼š<span class="bgc">{ capture: true, once: true, passive: true }</span></li>
      </ul>
    </div>
    <div data-custom="2ã€å¯¹è±¡ç›¸å…³">
      <h2 id="_2ã€å¯¹è±¡ç›¸å…³">2ã€å¯¹è±¡ç›¸å…³</h2>
      <AnchorComponents :data="OBJ_ANCHOR_POINT"/>
      <h3 id="obj_1">ä¸å¸¸ç”¨ä½†å¥½ç”¨çš„æ–¹æ³•</h3>
      <span class="content">1ã€Object.fromEntries()</span><br>
      <ul><li>å°†é”®å€¼å¯¹åˆ—è¡¨ï¼ˆå¦‚æ•°ç»„ï¼‰è½¬æ¢ä¸ºå¯¹è±¡ã€‚</li></ul>
      <CodeBlock>
        <pre>const entries = [['a', 1], ['b', 2]];
          const obj = Object.fromEntries(entries); // { a: 1, b: 2 }</pre>
      </CodeBlock>
      <span class="content">2ã€Object.entries()</span>
      <ul><li>è¿”å›ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚</li></ul>
      <CodeBlock>
        <pre>const obj = { a: 1, b: 2 };
        Object.entries(obj); // [['a', 1], ['b', 2]]</pre>
      </CodeBlock>
      <span class="content">3ã€Object.hasOwn()</span>
      <ul><li>åˆ¤æ–­å¯¹è±¡è‡ªèº«æ˜¯å¦æœ‰æŒ‡å®šçš„å±æ€§ï¼ˆä¸ç»§æ‰¿ï¼‰ã€‚</li></ul>
      <CodeBlock>
        <pre>const obj = { a: 1 };
        Object.hasOwn(obj, 'a'); // true
        Object.hasOwn(obj, 'toString'); // false</pre>
      </CodeBlock>
    </div>
    <div data-custom="3ã€æ•°ç»„ç›¸å…³">
      <h2 id="_3ã€æ•°ç»„ç›¸å…³">3ã€æ•°ç»„ç›¸å…³</h2>
      <AnchorComponents :data="ARR_ANCHOR_POINT" />
      <h3 id="arr_1">flatMapæ–¹æ³•</h3>
      <span class="content">
        flatMap() æ–¹æ³•é¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå‹ç¼©æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚å®ƒä¸ map è¿ç€æ·±åº¦å€¼ä¸º1çš„ flat å‡ ä¹ç›¸åŒï¼Œä½† flatMap é€šå¸¸åœ¨åˆå¹¶æˆä¸€ç§æ–¹æ³•çš„æ•ˆç‡ç¨å¾®é«˜ä¸€äº›ã€‚
      </span>
      <CodeBlock>
        <pre>var new_array = arr.flatMap(function callback(currentValue[, index[, array]]) {
              // è¿”å›æ–°æ•°ç»„çš„å…ƒç´ 
          }[, thisArg])</pre>
      </CodeBlock>
      <span class="content">
        è¿”å›å€¼ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å›è°ƒå‡½æ•°çš„ç»“æœï¼Œå¹¶ä¸”ç»“æ„æ·±åº¦ depth å€¼ä¸º1ã€‚
      </span>
      <span class="sub-important">*é€šå¸¸ç”¨åœ¨æ‰å¹³åŒ–æ•°ç»„ä¸­ã€‚flatMapä¼šæŠŠå‡½æ•°è¿”å›çš„æ•°ç»„ â€œå‹å¹³â€ ä¸€å±‚</span>
      <span class="content">
        Map ä¸ flatMapåŒºåˆ«
      </span>
      <CodeBlock>
        <pre>var arr1 = [1, 2, 3, 4];

          arr1.map(x => [x * 2]);
          // [[2], [4], [6], [8]]

          arr1.flatMap(x => [x * 2]);
          // [2, 4, 6, 8]

          // åªä¼šå°† flatMap ä¸­çš„å‡½æ•°è¿”å›çš„æ•°ç»„ â€œå‹å¹³â€ ä¸€å±‚
          arr1.flatMap(x => [[x * 2]]);
          // [[2], [4], [6], [8]]
          </pre>
      </CodeBlock>
      <h3 id="arr_2">Array.from()</h3>
      <span class="content">
        <span class="bgc">Array.from()</span> æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹ã€‚
      </span>
      <CodeBlock><pre>
        Array.from(arrayLike[, mapFn[, thisArg]])
      </pre>
      </CodeBlock>
      <span class="content">
        Array.from() å¯ä»¥é€šè¿‡ä¼ªæ•°ç»„å¯¹è±¡ï¼ˆæ‹¥æœ‰ä¸€ä¸ª length å±æ€§å’Œè‹¥å¹²ç´¢å¼•å±æ€§çš„ä»»æ„å¯¹è±¡ï¼‰æˆ–è€… å¯è¿­ä»£å¯¹è±¡ï¼ˆå¯ä»¥è·å–å¯¹è±¡ä¸­çš„å…ƒç´ ,å¦‚ Mapå’Œ Set ç­‰ï¼‰
      </span>
      <span class="content">
        Array.from() æ–¹æ³•æœ‰ä¸€ä¸ªå¯é€‰å‚æ•° mapFnï¼Œè®©ä½ å¯ä»¥åœ¨æœ€åç”Ÿæˆçš„æ•°ç»„ä¸Šå†æ‰§è¡Œä¸€æ¬¡ map æ–¹æ³•åå†è¿”å›ã€‚
      </span>
      <h3 id="arr_3">fill()</h3>
      <span class="content">
        <span class="bgc">fill()</span> æ–¹æ³•ç”¨ä¸€ä¸ªå›ºå®šå€¼å¡«å……ä¸€ä¸ªæ•°ç»„ä¸­ä»èµ·å§‹ç´¢å¼•åˆ°ç»ˆæ­¢ç´¢å¼•å†…çš„å…¨éƒ¨å…ƒç´ ã€‚ä¸åŒ…æ‹¬ç»ˆæ­¢ç´¢å¼•ã€‚
      </span>
      <span class="content">
        <span class="bgc">fill</span>æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•° value, start ä»¥åŠ end. start å’Œ end å‚æ•°æ˜¯å¯é€‰çš„, å…¶é»˜è®¤å€¼åˆ†åˆ«ä¸º 0 å’Œ this å¯¹è±¡çš„ length å±æ€§å€¼ã€‚
      </span>
    </div>
    <div data-custom="4ã€å­—ç¬¦ä¸²ç›¸å…³">
      <h2 id="_4ã€å­—ç¬¦ä¸²ç›¸å…³">4ã€å­—ç¬¦ä¸²ç›¸å…³</h2>
      <AnchorComponents :data="STRING_ANCHOR_POINT" />
      <h3 id="str_1">String.trim()</h3>
      <span class="content">
        trim()æ–¹æ³•è¿”å›ä¸€ä¸ªä¸¤å¤´éƒ½å»æ‰ç©ºç™½çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸å½±å“åŸå­—ç¬¦ä¸²æœ¬èº«ã€‚åº”ç”¨åœºæ™¯ä¸ºï¼šæœç´¢æ¡†ä¸­çš„å­—ç¬¦ä¸²å¤„ç†ã€‚
      </span>
      <CodeBlock>
        <pre>var orig = '   foo  ';
          console.log(orig.trim()); // 'foo'

          // å¦ä¸€ä¸ª.trim()ä¾‹å­ï¼Œåªä»ä¸€è¾¹åˆ é™¤

          var orig = 'foo    ';
          console.log(orig.trim()); // 'foo'</pre>
      </CodeBlock>
    </div>
    <div data-custom="5ã€è·¯ç”±ç›¸å…³">
      <h2 id="_5ã€è·¯ç”±ç›¸å…³">5ã€è·¯ç”±ç›¸å…³</h2>
      <AnchorComponents :data="ROUTE__ANCHOR_POINT" />
      <h3 id="route_1">å¼€å‘è·¯ç”±çš„æ€è·¯</h3>
      <span class="content">
        å½“æˆ‘ä»¬åœ¨å¤„ç†è·¯ç”±æ—¶ï¼Œå¯¹äºç›¸åŒè·¯å¾„çš„ç»„ä»¶åŠ è½½ï¼Œå¤§å¯ä¸å¿…ç½—åˆ—è·¯ç”±é…ç½®ã€‚å¯ä»¥ä½¿ç”¨<span class="bgc">import.meta.glob</span>ã€‚ä¾‹å¦‚ï¼š
      </span>
      <CodeBlock>
        <pre>import.meta.glob('../components/**/*.vue')
          // ä¼šè®© Vite åœ¨æ„å»ºé˜¶æ®µæ‰«æ src/components/** ç›®å½•ä¸‹çš„æ‰€æœ‰ .vue æ–‡ä»¶ï¼Œä¸ºæ¯ä¸ªæ–‡ä»¶ç”Ÿæˆä¸€ä¸ªæŒ‰éœ€å¯¼å…¥çš„å‡½æ•°ã€‚è¿”å›ç»“æœæ˜¯ä¸€ä¸ªä»¥æ–‡ä»¶ç›¸å¯¹è·¯å¾„ä¸ºé”®ã€ä»¥æ‡’åŠ è½½å‡½æ•°ä¸ºå€¼çš„å¯¹è±¡ã€‚
        </pre>
      </CodeBlock>
      <span class="content">
        å¦‚æœæœ‰åœ¨ä¸åŒç›®å½•ä¸‹çš„æ‡’åŠ è½½è·¯ç”±ã€‚é€šè¿‡å¯¹è±¡å±•å¼€è¿ç®—ç¬¦æŠŠä¸¤ä¸ªæ‰«æç»“æœåˆå¹¶æˆä¸€ä¸ªå¤§å¯¹è±¡ã€‚
      </span>
      <CodeBlock>
        <pre>const moduleMap = {
            ...import.meta.glob('../views/**/*.vue'),
            ...import.meta.glob('../components/**/*.vue'),
          }</pre>
      </CodeBlock>
      <h3 id="route_2">å¦‚ä½•ä¼˜é›…çš„è·å–è·¯ç”±å‚æ•°</h3>
      <span class="content">URLSearchParams APIï¼ˆç°ä»£æµè§ˆå™¨ï¼‰</span>
      <CodeBlock>
        <pre>// è·å–å½“å‰URLå‚æ•°
        const urlParams = new URLSearchParams(window.location.search);

        // è·å–å•ä¸ªå‚æ•°
        const id = urlParams.get('id');           // ?id=123 â†’ "123"
        const name = urlParams.get('name');       // ?name=John â†’ "John"
        const nonExistent = urlParams.get('key'); // ä¸å­˜åœ¨è¿”å› null

        // æ£€æŸ¥å‚æ•°æ˜¯å¦å­˜åœ¨
        const hasToken = urlParams.has('token');  // è¿”å› true/false

        // éå†æ‰€æœ‰å‚æ•°
        for (const [key, value] of urlParams.entries()) {
          console.log(`${key}: ${value}`);
        }

        // è½¬æ¢ä¸ºå¯¹è±¡
        const params = Object.fromEntries(urlParams.entries());</pre>
      </CodeBlock>
    </div>
  </div>
</template>

<style scoped lang="scss">
  ul li {
    line-height: 2.5em;
  }
</style>
